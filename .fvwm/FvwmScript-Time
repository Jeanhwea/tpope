# ~/.fvwm/FvwmScript-Time

WindowTitle {FvwmScript-Hidden}
WindowSize 46 22
ForeColor {Black}

# the following should be commented out if the Calendar is used outside
# of FvwmButtons
WindowPosition -45 -21

Init
 Begin
  Set $font =(GetOutput {exec echo "$fvwm_alertfont"} 1 -1)
  ChangeFont 1 $font
  Set $time =(GetOutput {exec date '+%R'} 1 -1)
  If (RemainderOfDiv (GetTime) 60)<10 Then
   Set $seconds ={:0} (RemainderOfDiv (GetTime) 60)
  Else
   Set $seconds ={:} (RemainderOfDiv (GetTime) 60)
  ChangeTitle 1 $time
 End

PeriodicTasks
 Begin
  If (RemainderOfDiv (GetTime) 30)==0 Then
   Set $time =(GetOutput {exec date '+%R'} 1 -1)
  If (RemainderOfDiv (GetTime) 60)<10 Then
   Set $seconds ={:0} (RemainderOfDiv (GetTime) 60)
  Else
   Set $seconds ={:} (RemainderOfDiv (GetTime) 60)
  ChangeTitle 2 $seconds
  If (RemainderOfDiv (GetTime) 30)==0 Then
   ChangeTitle 1 $time
 End

Widget 1
Property
 Position 0 0
 Size 46 22
 Type ItemDraw
 Flags Center
 Title {HH:MM}
Main
 Case message of
  SingleClic :
  Begin
  End
End

Widget 2
Property
 Position 48 0
 Size 20 20
 Type ItemDraw
 Flags Left NoReliefString
 Title {:SS}
Main
 Case message of
  SingleClic :
  Begin
  End
End

